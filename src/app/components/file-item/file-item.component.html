<div
	class="group bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-3 sm:p-4 cursor-pointer border border-gray-200 hover:border-blue-300"
	[class.border-blue-500]="isSelected"
	[class.bg-blue-50]="isSelected"
	(click)="onItemClick($event)">
	<div class="flex flex-col items-center">
		<div class="mb-2 sm:mb-3">
			@if (file.type === 'folder') {
			<i
				class="fa-solid {{ file.icon }} {{ file.color }} text-4xl sm:text-6xl"></i>
			} @else {
			<div
				class="w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-200 transition-colors">
				<i
					class="fa-solid {{ file.icon }} {{ file.color }} text-2xl sm:text-3xl"></i>
			</div>
			}
		</div>
		<span
			class="text-xs sm:text-sm font-medium text-gray-900 text-center truncate w-full"
			>{{ file.name }}</span
		>
		<span class="text-xs text-gray-500 mt-1"> 
			@if (file.type === 'folder') {
				{{ folderCountText() }}
			} @else {
				{{ file.size }}
			}
		</span>
	</div>
	<div class="mt-2 sm:mt-3 opacity-100 transition-opacity">
		<div class="flex justify-center space-x-1 sm:space-x-2">
			@if (file.type === 'file') {
			<button
				class="p-1 text-gray-400 hover:text-blue-600"
				title="Download"
				(click)="onAction.emit({ action: 'download', file: file }); $event.stopPropagation()">
				<i class="fa-solid fa-download text-xs"></i>
			</button>
			}
			<button
				class="p-1 text-gray-400 hover:text-blue-600"
				title="Move"
				(click)="onAction.emit({ action: 'move', file: file }); $event.stopPropagation()">
				<i class="fa-solid fa-arrows-up-down-left-right text-xs"></i>
			</button>
			<button
				class="p-1 text-gray-400 hover:text-blue-600"
				title="Rename"
				(click)="onAction.emit({ action: 'rename', file: file }); $event.stopPropagation()">
				<i class="fa-solid fa-edit text-xs"></i>
			</button>
			<button
				class="p-1 text-gray-400 hover:text-red-600"
				title="Delete"
				(click)="onAction.emit({ action: 'delete', file: file }); $event.stopPropagation()">
				<i class="fa-solid fa-trash text-xs"></i>
			</button>
		</div>
	</div>
</div>
